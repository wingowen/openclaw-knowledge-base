# ğŸ§  MEMORY.md - Your Long-Term Memory

This is your curated memory - the distilled essence of what's worth keeping long-term.

## ç”¨æˆ·åå¥½

- ç”¨æˆ·å¸Œæœ›åœ¨ä¸äº§ç”Ÿæ­§ä¹‰çš„æƒ…å†µä¸‹ï¼Œå›ç­”å°½é‡ç”¨ä¸­æ–‡
- **å­ä»£ç†ä»»åŠ¡é€šçŸ¥**ï¼šå½“å¼€å¯å­ä»£ç†ä»»åŠ¡æ—¶ï¼Œè®©å­ä»£ç†æ¯å®Œæˆä¸€ä»¶å­ä»»åŠ¡å°±å‘é€é€šçŸ¥ï¼Œä¿æŒè¿›åº¦å¯è§

---

## ğŸ“š OpenClaw è®°å¿†ä»“åº“

**åˆ›å»ºæ—¶é—´**: 2026-02-12

### ç›®å½•ç»“æ„

```
knowledge-base/
â”œâ”€â”€ README.md              # çŸ¥è¯†åº“ç´¢å¼•
â”œâ”€â”€ 01-persona/            # èº«ä»½ä¸è§’è‰²å®šä¹‰
â”œâ”€â”€ 02-projects/           # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ 03-tasks/              # ä»»åŠ¡è¿½è¸ª
â”œâ”€â”€ 04-learnings/          # å­¦ä¹ ä¸ç»éªŒ
â””â”€â”€ 05-archive/            # å½’æ¡£èµ„æ–™
```

### ä¸ç°æœ‰ç³»ç»Ÿçš„å…³ç³»

| ç³»ç»Ÿ | ç”¨é€” | åŠ è½½æ—¶æœº |
|------|------|----------|
| `memory/YYYY-MM-DD.md` | æ¯æ—¥åŸå§‹æ—¥å¿— | æ¯å¤©å¼€å§‹æ—¶ |
| `MEMORY.md` | é•¿æœŸç²¾é€‰è®°å¿† | ä¸»ä¼šè¯æ—¶ |
| `knowledge-base/` | **ç»“æ„åŒ–çŸ¥è¯†åº“** | ç‰¹å®šä»»åŠ¡æ—¶æ£€ç´¢ |

### å·²å½•å…¥å†…å®¹

- è‹±è¯­å­¦ä¹ å¹³å°é¡¹ç›®æ–‡æ¡£
- GitHub å·¥å…·é›†é…ç½®æŒ‡å—

---

## ğŸ“‹ Todo List

### æ–°æ¦‚å¿µè‹±è¯­ç¬¬ä¸‰å†Œå½•å…¥ä»»åŠ¡

**çŠ¶æ€**: âœ… æ•°æ®é—®é¢˜å·²ä¿®å¤ï¼ˆ2026-02-11ï¼‰

**æ•°æ®æº**: https://newconceptenglish.com/index.php?id=nce-3

**å·²åˆ›å»ºèµ„æº**:
- æ ‡ç­¾: `æ–°æ¦‚å¿µè‹±è¯­ç¬¬ä¸‰å†Œ` (id=6, color=#00247D)

**å·²ä¿®å¤çš„é—®é¢˜** (2026-02-11):

1. âœ… **åˆ é™¤é‡å¤æ–‡ç« **ï¼šid=17~24 å·²åˆ é™¤ï¼ˆä¿ç•™äº† id=7~16ï¼‰

2. âœ… **ä¿®å¤ B.C. åˆ‡åˆ†é€»è¾‘**ï¼š
   - ä¿®æ”¹äº† `fetch_nce3_lesson.py` çš„ `split_sentences()` å‡½æ•°
   - ä½¿ç”¨å ä½ç¬¦ä¿æŠ¤ç¼©å†™ï¼ˆB.C., A.D., Mr., Mrs., Dr. ç­‰ï¼‰
   - æ™ºèƒ½åŒºåˆ† "B.C. until"ï¼ˆå¥ä¸­ï¼‰å’Œ "B.C. Its"ï¼ˆå¥å­è¾¹ç•Œï¼‰

3. âœ… **é‡æ–°å½•å…¥ 3-003 ~ 3-010**ï¼šåˆ é™¤æ—§å¥å­ï¼Œé‡æ–°æŠ“å–å½•å…¥

**å½•å…¥è¿›åº¦**:
- 3-001 ~ 3-010: âœ… å·²å®Œæˆï¼ˆid=7~16ï¼‰
- 3-011 ~ 3-060: å¾…å½•å…¥

**å½“å‰æ–‡ç« åˆ—è¡¨**:
| è¯¾ç¨‹ | æ–‡ç« ID | å¥å­æ•° |
|------|--------|--------|
| 3-001 A puma at large | 7 | 13 |
| 3-002 Thirteen equals one | 8 | 14 |
| 3-003 An unknown goddess | 9 | 17 |
| 3-004 The double life of Alfred Bloggs | 10 | 14 |
| 3-005 The facts | 11 | 12 |
| 3-006 Smash-and-grab | 12 | 16 |
| 3-007 Mutilated ladies | 13 | 16 |
| 3-008 A famous monastery | 14 | 15 |
| 3-009 Flying cats | 15 | 19 |
| 3-010 The loss of the Titanic | 16 | 14 |

**å½•å…¥è„šæœ¬ä½ç½®**:
- æŠ“å–+åˆ‡åˆ†: `/root/.openclaw/workspace/scripts/fetch_nce3_lesson.py`
- å½•å…¥æ•°æ®åº“: `/root/.openclaw/workspace/scripts/insert_lesson.py`
- ä¸´æ—¶æ•°æ®: `/root/.openclaw/workspace/scripts/lesson_*.json`

**æ‰§è¡Œå‘½ä»¤** (ç»§ç»­æ—¶ä½¿ç”¨):
```bash
# 1. æŠ“å–å•è¯¾
python3 scripts/fetch_nce3_lesson.py 3-002

# 2. åˆ›å»ºæ–‡ç« +å…³è”æ ‡ç­¾ (éœ€è¦æ‰‹åŠ¨æ”¹è„šæœ¬æˆ–curl)
# 3. å½•å…¥å¥å­
python3 scripts/insert_lesson.py lesson_3-002.json <article_id>
```

**æ•°æ®ç»“æ„**:
- æ¯è¯¾ = 1ç¯‡æ–‡ç«  (articlesè¡¨)
- æ–‡ç« å…³è”åˆ°æ ‡ç­¾ (article_tagsè¡¨)
- å¥å­åŒ…å«ä¸­è‹±æ–‡ (sentencesè¡¨, extensions.translationå­—æ®µ)

**ç½‘ç«™è¯¾ç¨‹åˆ—è¡¨** (å…±60è¯¾):
```
3-001 A puma at large âœ…
3-002 Thirteen equals one
3-003 An unknown goddess
... (çœç•¥)
3-060 Too early and too late
```

---

## MCP Server é…ç½®

### mcp_query_table (é‡‘èè¡¨æ ¼æŸ¥è¯¢)

**ä½ç½®**ï¼špip å…¨å±€åŒ… `/usr/local/lib/python3.11/dist-packages/mcp_query_table/`

**WSL2 è¿è¡Œé…ç½®** â†’ è¯¦è§ `coding-agent` æŠ€èƒ½çš„ Learnings éƒ¨åˆ†

**Endpoint**ï¼šhttp://127.0.0.1:8000/sse

---

## é¡¹ç›®ï¼šè‹±è¯­å­¦ä¹ å¹³å° (Supabase)

### å·²ä¿®å¤çš„é—®é¢˜

**2026-02-11**: æ²‰æµ¸å¼æ¨¡å¼å¥å­è‡ªåŠ¨åˆ‡æ¢å¤±è´¥
- åŸå› : `ImmersiveSpelling.jsx` çš„ useEffect ä¾èµ– `isCompleted` å¯¼è‡´å®šæ—¶å™¨è¢«æ¸…é™¤
- ä¿®å¤: ä½¿ç”¨ `useRef(isCompletedRef)` è¿½è¸ªå®ŒæˆçŠ¶æ€
- æ–‡ä»¶: `/home/wingo/code/sentences-dictation/src/components/ImmersiveSpelling.jsx`

### é¡¹ç›®æ¦‚è¿°
ä¸€ä¸ªè‹±è¯­å¥å­å­¦ä¹ å¹³å°ï¼Œä½¿ç”¨ Supabase ä½œä¸ºåç«¯æ•°æ®åº“ã€‚

### æ•°æ®åº“ç»“æ„
| è¡¨å | ç”¨é€” | å…³é”®å­—æ®µ |
|------|------|----------|
| `articles` | æ–‡ç«  | id, title, description, source_url, total_sentences |
| `sentences` | å¥å­ | id, article_id, content, sequence_order, is_active |
| `tags` | æ ‡ç­¾ | id, name, color |
| `article_tags` | æ–‡ç« -æ ‡ç­¾å…³è” | article_id, tag_id |
| `sentence_audios` | å¥å­éŸ³é¢‘ | id, sentence_id, audio_url, speaker, speed |

### ç°æœ‰æ–‡ç« 
- id=1: ç®€å•å¥ç»ƒä¹ 
- id=2: æ–°æ¦‚å¿µè‹±è¯­ç¬¬ä¸€å†Œ
- id=7: 3-001 A puma at large (æ–°æ¦‚å¿µè‹±è¯­ç¬¬ä¸‰å†Œ)

### ç°æœ‰æ ‡ç­¾
- id=6: æ–°æ¦‚å¿µè‹±è¯­ç¬¬ä¸‰å†Œ (#00247D)

### æœ¬åœ°å¼€å‘æœåŠ¡
| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|------|------|------|
| Netlify Dev | http://localhost:8888 | ä¸»åº”ç”¨ï¼ˆç”¨æˆ·ç«¯ï¼‰ |
| Admin Vite | http://localhost:3000 | ç®¡ç†åå° |

é¡¹ç›®è·¯å¾„: `/home/wingo/code/sentences-dictation/`

### ç¯å¢ƒé…ç½®
é…ç½®æ–‡ä»¶ä½ç½®: `.env.supabase`
```
SUPABASE_URL=https://gtcnjqeloworstrimcsr.supabase.co
SUPABASE_SERVICE_ROLE_KEY=...  # Admin æƒé™ï¼Œç”¨äºæ·»åŠ /ä¿®æ”¹æ•°æ®
SUPABASE_ANON_KEY=...          # åªè¯»æƒé™ï¼Œç”¨äºæŸ¥è¯¢
MCP_API_KEY=...                # MCP æœåŠ¡ä½¿ç”¨
```

### æŠ€æœ¯è¦ç‚¹

#### IPv6 å…¼å®¹æ€§
- å½“å‰è¿è¡Œç¯å¢ƒï¼ˆWSL2ï¼‰**ä¸æ”¯æŒ IPv6**
- Supabase é€šè¿‡ Cloudflare CDN åŒæ—¶æ”¯æŒ IPv4 å’Œ IPv6
- è§£å†³æ–¹æ¡ˆï¼šè¯·æ±‚æ—¶å¼ºåˆ¶ä½¿ç”¨ IPv4
  - curl: `curl -4 ...`
  - Node.js: è®¾ç½® `dns` æ¨¡å—ä¼˜å…ˆ IPv4

#### API æ“ä½œç¤ºä¾‹
```bash
# æŸ¥è¯¢æ–‡ç« 
curl -4 "$SUPABASE_URL/rest/v1/articles?select=id,title" \
  -H "apikey: $SUPABASE_ANON_KEY"

# æ·»åŠ å¥å­ï¼ˆéœ€è¦ service_role_keyï¼‰
curl -4 -X POST "$SUPABASE_URL/rest/v1/sentences" \
  -H "apikey: $SUPABASE_SERVICE_ROLE_KEY" \
  -H "Authorization: Bearer $SUPABASE_SERVICE_ROLE_KEY" \
  -H "Content-Type: application/json" \
  -H "Prefer: return=representation" \
  -d '{"article_id": 7, "content": "å¥å­å†…å®¹", "sequence_order": 1, "extensions": {"translation": "ä¸­æ–‡ç¿»è¯‘"}}'
```

### è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹å¼

#### å¯åŠ¨æœ¬åœ°æœåŠ¡
```bash
cd /home/wingo/code/sentences-dictation
netlify dev --port 8888
```

#### Playwright è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
æµ‹è¯•è„šæœ¬ç›®å½•: `/root/.openclaw/workspace/`

**å…³é”®å‘ç°ï¼š**
- æ ‡ç­¾é€‰æ‹©æ˜¯ `<select>` ä¸‹æ‹‰æ¡†ï¼Œä¸æ˜¯æŒ‰é’®
- æ–‡ç« é€‰æ‹©ä¹Ÿæ˜¯ `<select>` ä¸‹æ‹‰æ¡†
- ç»ƒä¹ é¡µé¢çš„è¾“å…¥æ¡†ï¼š**æ¯ä¸ªè¾“å…¥æ¡†å¯¹åº”ä¸€ä¸ªå•è¯**

**å®Œæ•´æµ‹è¯•æµç¨‹ï¼š**
```javascript
const { chromium } = require('playwright');

(async () => {
  const browser = await chromium.launch({ headless: true });
  const page = await browser.newPage();

  // 1. æ‰“å¼€é¦–é¡µ
  await page.goto('http://localhost:8888', { waitUntil: 'networkidle' });
  await page.waitForTimeout(2000);

  // 2. ç‚¹å‡»"åœ¨çº¿è¯¾ç¨‹"
  await page.locator('button:has-text("åœ¨çº¿è¯¾ç¨‹")').click();
  await page.waitForTimeout(3000);

  // 3. é€‰æ‹©æ ‡ç­¾ï¼ˆselect ä¸‹æ‹‰æ¡†ï¼‰
  await page.locator('select').first().selectOption({ label: 'æ–°æ¦‚å¿µè‹±è¯­ç¬¬ä¸‰å†Œ' });
  await page.waitForTimeout(2000);

  // 4. é€‰æ‹©æ–‡ç« ï¼ˆç¬¬äºŒä¸ª select ä¸‹æ‹‰æ¡†ï¼‰
  const selects = await page.locator('select').all();
  await selects[1].selectOption({ label: '3-001 A puma at large (13å¥)' });
  await page.waitForTimeout(2000);

  // 5. ç‚¹å‡»å¼€å§‹ç»ƒä¹ 
  await page.locator('button:has-text("å¼€å§‹ç»ƒä¹ ")').click();
  await page.waitForTimeout(3000);

  // 6. è¾“å…¥ç­”æ¡ˆï¼ˆæ¯ä¸ªè¾“å…¥æ¡†ä¸€ä¸ªå•è¯ï¼‰
  const sentence = 'Pumas are large, cat-like animals which are found in America.';
  const words = sentence.split(/\s+/);  // æŒ‰ç©ºæ ¼æ‹†åˆ†
  const inputs = await page.locator('input[type=text]').all();

  for (let i = 0; i < Math.min(words.length, inputs.length); i++) {
    await inputs[i].fill(words[i]);
    await page.waitForTimeout(300);
  }

  // 7. æˆªå›¾
  await page.screenshot({ path: 'result.png', fullPage: true });

  await browser.close();
})();
```

**æ³¨æ„äº‹é¡¹ï¼š**
- æœåŠ¡å™¨éœ€è¦å…ˆå¯åŠ¨ï¼š`netlify dev --port 8888`
- æˆªå›¾éœ€è¦å®‰è£…ä¸­æ–‡å­—ä½“ï¼š`apt-get install fonts-noto-cjk`
- é£ä¹¦å‘é€å›¾ç‰‡éœ€è¦å…ˆä¸Šä¼ è·å– image_key

---

## å·¥å…·å®‰è£… (2026-02-12)

### GitHub ä»“åº“åˆ›å»ºå·¥å…·å®‰è£…

**çŠ¶æ€**: âœ… å®Œæˆ (11:22-11:33 GMT+8)

**å·²å®‰è£…å·¥å…·**:
1. **GitHub CLI (gh)** - ç‰ˆæœ¬ 2.86.0
   - å®‰è£…è·¯å¾„: `/usr/local/bin/gh`
   - åŠŸèƒ½: GitHub å®˜æ–¹å‘½ä»¤è¡Œå·¥å…·

2. **hub** - ç‰ˆæœ¬ 2.14.2
   - å®‰è£…è·¯å¾„: `/usr/local/bin/hub`
   - åŠŸèƒ½: GitHub çš„å¢å¼ºå‘½ä»¤è¡Œå·¥å…·

3. **curl** - ç‰ˆæœ¬ 7.88.1 (å·²é¢„è£…)
   - åŠŸèƒ½: ç”¨äºç›´æ¥è°ƒç”¨ GitHub API

**åˆ›å»ºçš„æ–‡ä»¶**:
- `github_repo_creator.sh` - äº¤äº’å¼è„šæœ¬ï¼Œæ”¯æŒå¤šç§æ–¹å¼åˆ›å»º GitHub ä»“åº“
- `README_github_tools.md` - è¯¦ç»†ä½¿ç”¨è¯´æ˜å’Œé…ç½®æŒ‡å—
- `test_github_tools.sh` - å¿«é€Ÿæµ‹è¯•è„šæœ¬
- `github_examples.md` - ä½¿ç”¨ç¤ºä¾‹å’Œæœ€ä½³å®è·µ

**ä½¿ç”¨æ–¹æ³•**:
```bash
# é¦–æ¬¡ä½¿ç”¨
gh auth login

# åˆ›å»ºä»“åº“
gh repo create my-repo --public

# æˆ–ä½¿ç”¨äº¤äº’å¼è„šæœ¬
./github_repo_creator.sh
```

**æ³¨æ„äº‹é¡¹**:
- é¦–æ¬¡ä½¿ç”¨å‰å¿…é¡»è¿›è¡Œ GitHub èº«ä»½éªŒè¯ (`gh auth login`)
- ä»“åº“åç§°é™åˆ¶: åªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’Œè¿å­—ç¬¦
- åˆ›å»ºç§æœ‰ä»“åº“å¯èƒ½éœ€è¦ä»˜è´¹è´¦æˆ·